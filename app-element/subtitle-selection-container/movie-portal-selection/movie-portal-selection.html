<script src="iso639/iso639List.js"></script>
<link rel="import" href="../../../../polymer/polymer.html">
<link rel="import" href="selectize-wrapper/selectize-wrapper.html">
<link rel="import" href="renderer/movie-option.html">
<link rel="import" href="renderer/language-option.html">
<link rel="import" href="renderer/subtitle-option.html">
<link rel="import" href="download-progress/subtitle-download-progress.html">


<dom-module id="movie-portal-selection">
    <link rel="import" href="../../../theme/theme.css" type="css">
    <link rel="import" href="../../../theme/extended-theme.css" type="css">
    <template>
        <style>
            #tribute {
                display: flex;
                flex-direction: column;
                font-size: 85%;
                align-items: flex-end;
                padding-right: 25px;
                margin-bottom: 15px;
            }
        </style>

        <selectize-wrapper id="movieSelection" placeholder="Select a movie" value-field="valueField" label-field="Title"
                           search-field="Title" renderer="movie-option" on-type-fn="[[_searchMoviesFn()]]"
                           on-item-add-fn="[[_selectedMovieFn()]]">
        </selectize-wrapper>

        <selectize-wrapper id="languageSelection" placeholder="Select a language" value-field="valueField"
                           label-field="iso639Name" search-field="iso639Name" renderer="language-option"
                           on-item-add-fn="[[_selectedLanguageFn()]]">
        </selectize-wrapper>

        <selectize-wrapper id="subtitleSelection" placeholder="Select a subtitle" value-field="valueField"
                           label-field="movieTitle" search-field="movieTitle" renderer="subtitle-option"
                           on-item-add-fn="[[_selectedSubtitleFn()]]">
        </selectize-wrapper>

        <subtitle-download-progress></subtitle-download-progress>
        <div id="tribute">
            <div>
                <label for="themoviedbLink">Movie search powered by</label>
                <a id="themoviedbLink" href="https://www.themoviedb.org" on-tap="openThemoviedb">www.TheMovieDb.org</a>
                <br>
            </div>
            <div>
                <label for="openSubtitleLink">Subtitle downloads powered by</label>
                <a id="openSubtitleLink" href="http://www.opensubtitles.org" on-tap="openOpenSubtitle">www.OpenSubtitles.org</a>
            </div>
        </div>

    </template>
    <script src="movie-portal-selection.js"></script>
</dom-module>